!function(n){"use strict";var u=37,f=null,i=function(n){var i=arguments,t=!0,r=1;return n=n.replace(/%s/g,function(){var n=i[r++];return typeof n=="undefined"?(t=!1,""):n}),t?n:""},h=function(t,i,r,u){var f="";return n.each(t,function(n,t){return t[i]===u?(f=t[r],!1):!0}),f},e=function(t,i){var r=-1;return n.each(t,function(n,t){return t.field===i?(r=n,!1):!0}),r},s=function(){if(f===null){var r=n("<p/>").addClass("fixed-table-scroll-inner"),t=n("<div/>").addClass("fixed-table-scroll-outer"),u,i;t.append(r);n("body").append(t);u=r[0].offsetWidth;t.css("overflow","scroll");i=r[0].offsetWidth;u===i&&(i=t[0].clientWidth);t.remove();f=u-i}return f},r=function(t,i,r,u){if(typeof i=="string"){var f=i.split(".");f.length>1?(i=window,n.each(f,function(n,t){i=i[t]})):i=window[i]}return typeof i=="object"?i:typeof i=="function"?i.apply(t,r):u},c=function(n){return typeof n=="string"?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):n},t=function(t,i){this.options=i;this.$el=n(t);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()},o;t.DEFAULTS={classes:"table table-hover",height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",striped:!1,columns:[],data:[],method:"get",url:undefined,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(n){return n},queryParamsType:"limit",responseHandler:function(n){return n},pagination:!1,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",search:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,buttonsAlign:"right",smartDisplay:!0,minimumCountColumns:1,idField:undefined,uniqueId:undefined,cardView:!1,trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:undefined,toolbarAlign:"left",checkboxHeader:!0,sortable:!0,maintainSelected:!1,searchTimeOut:500,keyEvents:!1,searchText:"",iconSize:undefined,iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th"},rowStyle:function(){return{}},rowAttributes:function(){return{}},onAll:function(){return!1},onClickRow:function(){return!1},onDblClickRow:function(){return!1},onSort:function(){return!1},onCheck:function(){return!1},onUncheck:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onLoadSuccess:function(){return!1},onLoadError:function(){return!1},onColumnSwitch:function(){return!1},onColumnSearch:function(){return!1},onPageChange:function(){return!1},onSearch:function(){return!1},onPreBody:function(){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1}};t.LOCALES=[];t.LOCALES["en-US"]={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(n){return i("%s records per page",n)},formatShowingRows:function(n,t,r){return i("Showing %s to %s of %s rows",n,t,r)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}};n.extend(t.DEFAULTS,t.LOCALES["en-US"]);t.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:undefined,title:undefined,"class":undefined,align:undefined,halign:undefined,falign:undefined,valign:undefined,width:undefined,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,cellStyle:undefined,searchable:!0,cardVisible:!0,filterControl:undefined};t.EVENTS={"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","column-search.bs.table":"onColumnSearch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader"};t.prototype.init=function(){this.initContainer();this.initTable();this.initHeader();this.initData();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initServer();this.initKeyEvents()};t.prototype.initContainer=function(){this.$container=n(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"><\/div>',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination" style="clear: both;"><\/div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table><\/table><\/div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"<\/div>","<\/div>",'<div class="fixed-table-footer"><table><tr><\/tr><\/table><\/div>',this.options.paginationVAlign==="bottom"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination"><\/div>':"","<\/div>","<\/div>"].join(""));this.$container.insertAfter(this.$el);this.$container.find(".fixed-table-body").append(this.$el);this.$container.after('<div class="clearfix"><\/div>');this.$loading=this.$container.find(".fixed-table-loading");this.$el.addClass(this.options.classes);this.options.striped&&this.$el.addClass("table-striped")};t.prototype.initTable=function(){var i=this,r=[],u=[];(this.$header=this.$el.find("thead"),this.$header.length||(this.$header=n("<thead><\/thead>").appendTo(this.$el)),this.$header.find("tr").length||this.$header.append("<tr><\/tr>"),this.$header.find("th").each(function(){var t=n.extend({},{title:n(this).html(),"class":n(this).attr("class")},n(this).data());r.push(t)}),this.options.columns=n.extend(!0,[],r,this.options.columns),n.each(this.options.columns,function(r,u){i.options.columns[r]=n.extend({},t.COLUMN_DEFAULTS,{field:r},u)}),this.options.data.length)||(this.$el.find("tbody tr").each(function(){var t={};t._id=n(this).attr("id");t._class=n(this).attr("class");n(this).find("td").each(function(r){var u=i.options.columns[r].field;t[u]=n(this).html();t["_"+u+"_id"]=n(this).attr("id");t["_"+u+"_class"]=n(this).attr("class");t["_"+u+"_data"]=n(this).data()});u.push(t)}),this.options.data=u)};t.prototype.initHeader=function(){var t=this,e=[],r=[],o=!1,f=0;this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],cellStyles:[],clickToSelects:[],searchables:[]};n.each(this.options.columns,function(n,u){var f="",c="",l="",s="",a=i(' class="%s"',u["class"]),y=t.options.sortOrder||u.order,v="px",h="hidden";if(u.visible&&(!t.options.cardView||u.cardVisible)){if(u.width!==undefined&&typeof u.width=="string"&&(u.width.indexOf("%")>-1&&(v="%"),u.width=u.width.replace("%","").replace("px","")),c=i("text-align: %s; ",u.halign?u.halign:u.align),l=i("text-align: %s; ",u.align),s=i("vertical-align: %s; ",u.valign),s+=i("width: %s"+v+"; ",u.checkbox||u.radio?36:u.width),e.push(u),t.header.fields.push(u.field),t.header.styles.push(l+s),t.header.classes.push(a),t.header.formatters.push(u.formatter),t.header.events.push(u.events),t.header.sorters.push(u.sorter),t.header.cellStyles.push(u.cellStyle),t.header.clickToSelects.push(u.clickToSelect),t.header.searchables.push(u.searchable),r.push("<th",u.checkbox||u.radio?i(' class="bs-checkbox %s"',u["class"]||""):a,i(' style="%s"',c+s),">"),r.push(i('<div class="th-inner %s">',t.options.sortable&&u.sortable?"sortable":"")),f=u.title,t.options.sortName===u.field&&t.options.sortable&&u.sortable&&(f+=t.getCaretHtml()),u.checkbox&&(!t.options.singleSelect&&t.options.checkboxHeader&&(f='<input name="btSelectAll" type="checkbox" />'),t.header.stateField=u.field),u.radio&&(f="",t.header.stateField=u.field,t.options.singleSelect=!0),r.push(f),r.push("<\/div>"),r.push('<div class="fht-cell"><\/div>'),r.push('<div style="margin: 0px 2px 2px 2px;" class="filterControl">'),u.filterControl&&u.searchable&&(o=!0,h="visible"),u.filterControl!==undefined)switch(u.filterControl.toLowerCase()){case"input":r.push(i('<input type="text" class="form-control" style="width: 100%; visibility: %s">',h));break;case"select":r.push(i('<select class="%s form-control" style="width: 100%; visibility: %s"><\/select>',u.field,h))}else r.push('<div style="height: 34px;"><\/div>');r.push("<\/div>");r.push("<\/th>")}});this.$header.find("tr").html(r.join(""));this.$header.find("th").each(function(t){n(this).data(e[t])});this.$container.off("click",".th-inner").on("click",".th-inner",function(i){if(t.options.sortable&&n(this).parent().data().sortable)t.onSort(i)});!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$container.find(".fixed-table-header").hide(),this.$loading.css("top",0)):(this.$header.show(),this.$container.find(".fixed-table-header").show(),this.$loading.css("top",u+"px"));this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$container.off("click",'[name="btSelectAll"]').on("click",'[name="btSelectAll"]',function(){var i=n(this).prop("checked");t[i?"checkAll":"uncheckAll"]()});if(o){this.$header.off("keyup","input").on("keyup","input",function(n){clearTimeout(f);f=setTimeout(function(){t.onColumnSearch(n)},t.options.searchTimeOut)});this.$header.off("change","select").on("change","select",function(n){clearTimeout(f);f=setTimeout(function(){t.onColumnSearch(n)},t.options.searchTimeOut)})}else this.$header.find(".filterControl").hide()};t.prototype.initFooter=function(){this.$footer=this.$container.find(".fixed-table-footer");!this.options.showFooter||this.options.cardView?this.$footer.hide():this.$footer.show()};t.prototype.initData=function(n,t){(this.data=t==="append"?this.data.concat(n):t==="prepend"?[].concat(n).concat(this.data):n||this.options.data,this.options.data=this.data,this.options.sidePagination!=="server")&&this.initSort()};t.prototype.initSort=function(){var i=this,u=this.options.sortName,t=this.options.sortOrder==="desc"?-1:1,f=n.inArray(this.options.sortName,this.header.fields);f!==-1&&this.data.sort(function(e,o){var s=e[u],h=o[u],c=r(i.header,i.header.sorters[f],[s,h]);return c!==undefined?t*c:c!==undefined?t*c:((s===undefined||s===null)&&(s=""),(h===undefined||h===null)&&(h=""),n.isNumeric(s)&&n.isNumeric(h))?(s=parseFloat(s),h=parseFloat(h),s<h)?t*-1:t:s===h?0:(typeof s!="string"&&(s=s.toString()),s.localeCompare(h)===-1)?t*-1:t})};t.prototype.onSort=function(t){var i=n(t.currentTarget).parent(),r=this.$header.find("th").eq(i.index());if(this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===i.data("field")?this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc":(this.options.sortName=i.data("field"),this.options.sortOrder=i.data("order")==="asc"?"desc":"asc"),this.trigger("sort",this.options.sortName,this.options.sortOrder),i.add(r).data("order",this.options.sortOrder).find(".th-inner").append(this.getCaretHtml()),this.options.sidePagination==="server"){this.initServer();return}this.initSort();this.initBody()};t.prototype.initToolbar=function(){var u=this,t=[],f=0,e,o,s=0;if(this.$toolbar=this.$container.find(".fixed-table-toolbar").html(""),typeof this.options.toolbar=="string"&&n(i('<div class="bars pull-%s"><\/div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(n(this.options.toolbar)),t=[i('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)],typeof this.options.icons=="string"&&(this.options.icons=r(null,this.options.icons)),this.options.showPaginationSwitch&&t.push(i('<button class="btn btn-default" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),i('<i class="%s %s"><\/i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"<\/button>"),this.options.showRefresh&&t.push(i('<button class="btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),i('<i class="%s %s"><\/i>',this.options.iconsPrefix,this.options.icons.refresh),"<\/button>"),this.options.showToggle&&t.push(i('<button class="btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),i('<i class="%s %s"><\/i>',this.options.iconsPrefix,this.options.icons.toggle),"<\/button>"),this.options.showColumns&&(t.push(i('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn btn-default'+(this.options.iconSize==undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',i('<i class="%s %s"><\/i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"><\/span>',"<\/button>",'<ul class="dropdown-menu" role="menu">'),n.each(this.options.columns,function(n,r){if(!r.radio&&!r.checkbox&&(!u.options.cardView||r.cardVisible)){var f=r.visible?' checked="checked"':"";r.switchable&&(t.push(i('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s<\/label><\/li>',r.field,n,f,r.title)),s++)}}),t.push("<\/ul>","<\/div>")),t.push("<\/div>"),(this.showToolbar||t.length>2)&&this.$toolbar.append(t.join("")),this.options.showPaginationSwitch)this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",n.proxy(this.togglePagination,this));if(this.options.showRefresh)this.$toolbar.find('button[name="refresh"]').off("click").on("click",n.proxy(this.refresh,this));if(this.options.showToggle)this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){u.toggleView()});if(this.options.showColumns){e=this.$toolbar.find(".keep-open");s<=this.options.minimumCountColumns&&e.find("input").prop("disabled",!0);e.find("li").off("click").on("click",function(n){n.stopImmediatePropagation()});e.find("input").off("click").on("click",function(){var t=n(this);u.toggleColumn(t.val(),t.prop("checked"),!1);u.trigger("column-switch",n(this).data("field"),t.prop("checked"))})}if(this.options.search){t=[];t.push('<div class="pull-'+this.options.searchAlign+' search">',i('<input class="form-control'+(this.options.iconSize===undefined?"":" input-"+this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"<\/div>");this.$toolbar.append(t.join(""));o=this.$toolbar.find(".search input");o.off("keyup").on("keyup",function(n){clearTimeout(f);f=setTimeout(function(){u.onSearch(n)},u.options.searchTimeOut)});this.options.searchText!==""&&(o.val(this.options.searchText),clearTimeout(f),f=setTimeout(function(){o.trigger("keyup")},u.options.searchTimeOut))}};t.prototype.onSearch=function(t){var i=n.trim(n(t.currentTarget).val());(this.options.trimOnSearch&&n(t.currentTarget).val()!==i&&n(t.currentTarget).val(i),i!==this.searchText)&&(this.searchText=i,this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("search",i))};t.prototype.onColumnSearch=function(t){var i=n.trim(n(t.currentTarget).val()),r=n(t.currentTarget).parent().parent().data("field");n.isEmptyObject(this.filterColumnsPartial)&&(this.filterColumnsPartial={});i?this.filterColumnsPartial[r]=i:delete this.filterColumnsPartial[r];this.options.pageNumber=1;this.initSearch();this.updatePagination()};t.prototype.initSearch=function(){var t=this;if(this.options.sidePagination!=="server"){var f=this.searchText&&this.searchText.toLowerCase(),i=n.isEmptyObject(this.filterColumns)?null:this.filterColumns,u=n.isEmptyObject(this.filterColumnsPartial)?null:this.filterColumnsPartial;this.data=i?n.grep(this.options.data,function(n){for(var t in i)if(n[t]!==i[t])return!1;return!0}):this.options.data;this.data=u?n.grep(this.data,function(i,f){var o,s,e;for(o in u)if(s=u[o].toLowerCase(),e=i[o],e=r(t.header,t.header.formatters[n.inArray(o,t.header.fields)],[e,i,f],e),!(n.inArray(o,t.header.fields)!==-1&&(typeof e=="string"||typeof e=="number")&&(e+"").toLowerCase().indexOf(s)!==-1))return!1;return!0}):this.data;this.data=f?n.grep(this.data,function(i,u){var e,o,s;for(e in i)if(e=n.isNumeric(e)?parseInt(e,10):e,o=i[e],o=r(t.header,t.header.formatters[n.inArray(e,t.header.fields)],[o,i,u],o),s=n.inArray(e,t.header.fields),s!==-1&&t.header.searchables[s]&&(typeof o=="string"||typeof o=="number")&&(o+"").toLowerCase().indexOf(f)!==-1)return!0;return!1}):this.data}};t.prototype.initPagination=function(){var w,h,f,b;if(this.$pagination=this.$container.find(".fixed-table-pagination"),this.options.pagination)this.$pagination.show();else{this.$pagination.hide();return}var e=this,t=[],o=!1,s,r,u,y,c,l,a,v,p,k=this.getData();for(this.options.sidePagination!=="server"&&(this.options.totalRows=k.length),this.totalPages=0,this.options.totalRows&&(this.options.pageSize===this.options.formatAllRows()?(this.options.pageSize=this.options.totalRows,o=!0):this.options.pageSize===this.options.totalRows&&(w=typeof this.options.pageList=="string"?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList,w.indexOf(this.options.formatAllRows().toLowerCase())>-1&&(o=!0)),this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages),this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),t.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"<\/span>"),t.push('<span class="page-list">'),h=[i('<span class="btn-group %s">',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?"dropdown":"dropup"),'<button type="button" class="btn btn-default '+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',o?this.options.formatAllRows():this.options.pageSize,"<\/span>",' <span class="caret"><\/span>',"<\/button>",'<ul class="dropdown-menu" role="menu">'],f=this.options.pageList,typeof this.options.pageList=="string"&&(b=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(","),f=[],n.each(b,function(n,t){f.push(t.toUpperCase()===e.options.formatAllRows().toUpperCase()?e.options.formatAllRows():+t)})),n.each(f,function(n,t){if(!e.options.smartDisplay||n===0||f[n-1]<=e.options.totalRows){var r;r=o?t===e.options.formatAllRows()?' class="active"':"":t===e.options.pageSize?' class="active"':"";h.push(i('<li%s><a href="javascript:void(0)">%s<\/a><\/li>',r,t))}}),h.push("<\/ul><\/span>"),t.push(this.options.formatRecordsPerPage(h.join(""))),t.push("<\/span>"),t.push("<\/div>",'<div class="pull-'+this.options.paginationHAlign+'">','<ul class="pagination'+(this.options.iconSize===undefined?"":" pagination-"+this.options.iconSize)+'">','<li class="page-first"><a href="javascript:void(0)">&lt;&lt;<\/a><\/li>','<li class="page-pre"><a href="javascript:void(0)">&lt;<\/a><\/li>'),this.totalPages<5?(r=1,u=this.totalPages):(r=this.options.pageNumber-2,u=r+4,r<1&&(r=1,u=5),u>this.totalPages&&(u=this.totalPages,r=u-4)),s=r;s<=u;s++)t.push('<li class="page-number'+(s===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',s,"<\/a>","<\/li>");t.push('<li class="page-next"><a href="javascript:void(0)">&gt;<\/a><\/li>','<li class="page-last"><a href="javascript:void(0)">&gt;&gt;<\/a><\/li>',"<\/ul>","<\/div>");this.$pagination.html(t.join(""));y=this.$pagination.find(".page-list a");c=this.$pagination.find(".page-first");l=this.$pagination.find(".page-pre");a=this.$pagination.find(".page-next");v=this.$pagination.find(".page-last");p=this.$pagination.find(".page-number");this.options.pageNumber<=1&&(c.addClass("disabled"),l.addClass("disabled"));this.options.pageNumber>=this.totalPages&&(a.addClass("disabled"),v.addClass("disabled"));this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(f.length<2||this.options.totalRows<=f[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]());o&&(this.options.pageSize=this.options.formatAllRows());y.off("click").on("click",n.proxy(this.onPageListChange,this));c.off("click").on("click",n.proxy(this.onPageFirst,this));l.off("click").on("click",n.proxy(this.onPagePre,this));a.off("click").on("click",n.proxy(this.onPageNext,this));v.off("click").on("click",n.proxy(this.onPageLast,this));p.off("click").on("click",n.proxy(this.onPageNumber,this))};t.prototype.updatePagination=function(t){t&&n(t.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),this.options.sidePagination==="server"?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))};t.prototype.onPageListChange=function(t){var i=n(t.currentTarget);i.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(t)};t.prototype.onPageFirst=function(n){this.options.pageNumber=1;this.updatePagination(n)};t.prototype.onPagePre=function(n){this.options.pageNumber--;this.updatePagination(n)};t.prototype.onPageNext=function(n){this.options.pageNumber++;this.updatePagination(n)};t.prototype.onPageLast=function(n){this.options.pageNumber=this.totalPages;this.updatePagination(n)};t.prototype.onPageNumber=function(t){this.options.pageNumber!==+n(t.currentTarget).text()&&(this.options.pageNumber=+n(t.currentTarget).text(),this.updatePagination(t))};t.prototype.initBody=function(t){var u=this,l=[],y=this.getData(),s;for(this.trigger("pre-body",y),this.$body=this.$el.find("tbody"),this.$body.length||(this.$body=n("<tbody><\/tbody>").appendTo(this.$el)),this.options.pagination&&this.options.sidePagination!=="server"||(this.pageFrom=1,this.pageTo=y.length),s=this.pageFrom-1;s<this.pageTo;s++){var a,f=y[s],o={},p=[],v={},w=[];if(o=r(this.options,this.options.rowStyle,[f,s],o),o&&o.css)for(a in o.css)p.push(a+": "+o.css[a]);if(v=r(this.options,this.options.rowAttributes,[f,s],v),v)for(a in v)w.push(i('%s="%s"',a,c(v[a])));l.push("<tr",i(" %s",w.join(" ")),i(' id="%s"',n.isArray(f)?undefined:f._id),i(' class="%s"',o.classes||(n.isArray(f)?undefined:f._class)),i(' data-index="%s"',s),i(' data-unique-id="%s"',f[this.options.uniqueId]),">");this.options.cardView&&l.push(i('<td colspan="%s">',this.header.fields.length));n.each(this.header.fields,function(t,c){var k="",a=f[c],w="",y={},rt="",g=u.header.classes[t],ut="",v=u.options.columns[e(u.options.columns,c)],nt,tt;if(o=i('style="%s"',p.concat(u.header.styles[t]).join("; ")),a=r(u.header,u.header.formatters[t],[a,f,s],a),f["_"+c+"_id"]&&(rt=i(' id="%s"',f["_"+c+"_id"])),f["_"+c+"_class"]&&(g=i(' class="%s"',f["_"+c+"_class"])),y=r(u.header,u.header.cellStyles[t],[a,f,s],y),y.classes&&(g=i(' class="%s"',y.classes)),y.css){nt=[];for(tt in y.css)nt.push(tt+": "+y.css[tt]);o=i('style="%s"',nt.concat(u.header.styles[t]).join("; "))}if(f["_"+c+"_data"]&&!n.isEmptyObject(f["_"+c+"_data"])&&n.each(f["_"+c+"_data"],function(n,t){n!=="index"&&(ut+=i(' data-%s="%s"',n,t))}),v.checkbox||v.radio)w=v.checkbox?"checkbox":w,w=v.radio?"radio":w,k=[u.options.cardView?'<div class="card-view">':'<td class="bs-checkbox">',"<input"+i(' data-index="%s"',s)+i(' name="%s"',u.options.selectItemName)+i(' type="%s"',w)+i(' value="%s"',f[u.options.idField])+i(' checked="%s"',a===!0||a&&a.checked?"checked":undefined)+i(' disabled="%s"',!v.checkboxEnabled||a&&a.disabled?"disabled":undefined)+" />",u.options.cardView?"<\/div>":"<\/td>"].join("");else{if(a=typeof a=="undefined"||a===null?u.options.undefinedText:a,k=u.options.cardView?['<div class="card-view">',u.options.showHeader?i('<span class="title" %s>%s<\/span>',o,h(u.options.columns,"field","title",c)):"",i('<span class="value">%s<\/span>',a),"<\/div>"].join(""):[i("<td%s %s %s %s>",rt,g,o,ut),a,"<\/td>"].join(""),v.filterControl!==undefined&&v.filterControl.toLowerCase()==="select"&&v.searchable){var b=n("."+v.field),it=0,ft=!1,d;if(b!==undefined)if(d=b.get(0).options,d.length===0)b.append(n("<option><\/option>").attr("value","").text("")),b.append(n("<option><\/option>").attr("value",a).text(a));else{for(;it<d.length;it++)if(d[it].value===a){ft=!0;break}ft||b.append(n("<option><\/option>").attr("value",a).text(a))}}u.options.cardView&&u.options.smartDisplay&&a===""&&(k="")}l.push(k)});this.options.cardView&&l.push("<\/td>");l.push("<\/tr>")}l.length||l.push('<tr class="no-records-found">',i('<td colspan="%s">%s<\/td>',this.header.fields.length,this.options.formatNoMatches()),"<\/tr>");this.$body.html(l.join(""));t||this.scrollTo(0);this.$body.find("> tr > td").off("click").on("click",function(){var t=n(this).parent();u.trigger("click-row",u.data[t.data("index")],t);u.options.clickToSelect&&u.header.clickToSelects[t.children().index(n(this))]&&t.find(i('[name="%s"]',u.options.selectItemName))[0].click()});this.$body.find("tr").off("dblclick").on("dblclick",function(){u.trigger("dbl-click-row",u.data[n(this).data("index")],n(this))});this.$selectItem=this.$body.find(i('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(t){t.stopImmediatePropagation();var i=n(this).prop("checked"),r=u.data[n(this).data("index")];r[u.header.stateField]=i;u.trigger(i?"check":"uncheck",r);u.options.singleSelect&&(u.$selectItem.not(this).each(function(){u.data[n(this).data("index")][u.header.stateField]=!1}),u.$selectItem.filter(":checked").not(this).prop("checked",!1));u.updateSelected()});n.each(this.header.events,function(t,i){if(i){typeof i=="string"&&(i=r(null,i));for(var f in i)u.$body.find("tr").each(function(){var r=n(this),s=r.find(u.options.cardView?".card-view":"td").eq(t),e=f.indexOf(" "),o=f.substring(0,e),h=f.substring(e+1),c=i[f];s.find(h).off(o).on(o,function(n){var i=r.data("index"),f=u.data[i],e=f[u.header.fields[t]];c.apply(this,[n,e,f,i])})})}});this.updateSelected();this.resetView();this.trigger("post-body")};t.prototype.initServer=function(t,i){var f=this,e={},u={pageSize:this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,pageNumber:this.options.pageNumber,searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};this.options.url&&(this.options.queryParamsType==="limit"&&(u={search:u.searchText,sort:u.sortName,order:u.sortOrder},this.options.pagination&&(u.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,u.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1))),n.isEmptyObject(this.filterColumnsPartial)||(u.filter=JSON.stringify(this.filterColumnsPartial,null)),e=r(this.options,this.options.queryParams,[u],e),n.extend(e,i||{}),e!==!1)&&(t||this.$loading.show(),n.ajax(n.extend({},r(null,this.options.ajaxOptions),{type:this.options.method,url:this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(e):e,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(n){n=r(f.options,f.options.responseHandler,[n],n);f.load(n);f.trigger("load-success",n)},error:function(n){f.trigger("load-error",n.status)},complete:function(){t||f.$loading.hide()}})))};t.prototype.initKeyEvents=function(){if(this.options.keyEvents){var t=this;n(document).off("keypress").on("keypress",function(n){var i=t.$toolbar.find(".search input"),r=t.$toolbar.find('button[name="refresh"]'),u=t.$toolbar.find('button[name="toggle"]'),f=t.$toolbar.find('button[name="paginationSwitch"]');switch(n.keyCode){case 115:case 83:return t.options.search?document.activeElement===i.get(0)?!0:(i.focus(),!1):void 0;case 114:case 82:return t.options.showRefresh?document.activeElement===i.get(0)?!0:(r.click(),!1):void 0;case 116:case 84:return t.options.showToggle?document.activeElement===i.get(0)?!0:(u.click(),!1):void 0;case 112:case 80:return t.options.showPaginationSwitch?document.activeElement===i.get(0)?!0:(f.click(),!1):void 0}})}};t.prototype.getCaretHtml=function(){return['<span class="order'+(this.options.sortOrder==="desc"?"":" dropup")+'">','<span class="caret" style="margin: 10px 5px;"><\/span>',"<\/span>"].join("")};t.prototype.updateSelected=function(){var t=this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t);this.$selectItem.each(function(){n(this).parents("tr")[n(this).prop("checked")?"addClass":"removeClass"]("selected")})};t.prototype.updateRows=function(t){var i=this;this.$selectItem.each(function(){i.data[n(this).data("index")][i.header.stateField]=t})};t.prototype.resetRows=function(){var t=this;n.each(this.data,function(n,i){t.$selectAll.prop("checked",!1);t.$selectItem.prop("checked",!1);i[t.header.stateField]=!1})};t.prototype.trigger=function(i){var r=Array.prototype.slice.call(arguments,1);i+=".bs.table";this.options[t.EVENTS[i]].apply(this.options,r);this.$el.trigger(n.Event(i),r);this.options.onAll(i,r);this.$el.trigger(n.Event("all.bs.table"),[i,r])};t.prototype.resetHeader=function(){this.$el.css("margin-top",-this.$header.height());clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(n.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0);return};t.prototype.fitHeader=function(){var t=this,i,r,u;if(t.$el.is(":hidden")){t.timeoutFooter_=setTimeout(n.proxy(t.fitHeader,t),100);return}i=t.$container.find(".fixed-table-header");r=t.$container.find(".fixed-table-body");u=t.$el.width()>r.width()?s():0;t.$header_=t.$header.clone(!0,!0);t.$selectAll_=t.$header_.find('[name="btSelectAll"]');i.css({"margin-right":u}).find("table").css("width",t.$el.css("width")).html("").attr("class",t.$el.attr("class")).append(t.$header_);t.$header.find("th").each(function(i){t.$header_.find("th").eq(i).data(n(this).data())});t.$body.find("tr:first-child:not(.no-records-found) > *").each(function(i){t.$header_.find("div.fht-cell").eq(i).width(n(this).innerWidth())});r.off("scroll").on("scroll",function(){i.scrollLeft(n(this).scrollLeft())});t.trigger("post-header")};t.prototype.resetFooter=function(){var u=this,f=u.getData(),t=[];this.options.showFooter&&!this.options.cardView&&(n.each(this.options.columns,function(n,e){var o="",s="",h=i(' class="%s"',e["class"]);e.visible&&(!u.options.cardView||e.cardVisible)&&(o=i("text-align: %s; ",e.falign?e.falign:e.align),s=i("vertical-align: %s; ",e.valign),t.push("<td",h,i(' style="%s"',o+s),">"),t.push(r(e,e.footerFormatter,[f],"&nbsp;")||"&nbsp;"),t.push("<\/td>"))}),this.$footer.find("tr").html(t.join("")),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(n.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))};t.prototype.fitFooter=function(){var f=this,t,r,i,u;if(clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")){this.timeoutFooter_=setTimeout(n.proxy(this.fitFooter,this),100);return}t=this.$container.find(".fixed-table-body");i=this.$el.css("width");u=i>t.width()?s():0;this.$footer.css({"margin-right":u}).find("table").css("width",i).attr("class",this.$el.attr("class"));r=this.$footer.find("td");t.find("tbody tr:first-child:not(.no-records-found) > td").each(function(t){r.eq(t).outerWidth(n(this).outerWidth())})};t.prototype.toggleColumn=function(n,t,r){if(n!==-1&&(this.options.columns[n].visible=t,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var u=this.$toolbar.find(".keep-open input").prop("disabled",!1);r&&u.filter(i('[value="%s"]',n)).prop("checked",t);u.filter(":checked").length<=this.options.minimumCountColumns&&u.filter(":checked").prop("disabled",!0)}};t.prototype.toggleRow=function(t,r,u){t!==-1&&n(this.$body[0]).children().filter(i(r?'[value="%s"]':'[data-index="%s"]',t))[u?"show":"hide"]()};t.prototype.resetView=function(n){var r=this,t=0,i=r.$container.find(".fixed-table-container");if(n&&n.height&&(this.options.height=n.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var f=+this.$toolbar.children().outerHeight(!0),e=+this.$pagination.children().outerHeight(!0),o=this.options.height-f-e;i.css("height",o+"px")}if(this.options.cardView){r.$el.css("margin-top","0");i.css("padding-bottom","0");return}this.options.showHeader&&this.options.height?(this.$container.find(".fixed-table-header").show(),this.resetHeader(),t+=u):(this.$container.find(".fixed-table-header").hide(),this.trigger("post-header"));this.options.showFooter&&(this.resetFooter(),this.options.height&&(t+=u));i.css("padding-bottom",t+"px")};t.prototype.getData=function(){return this.searchText||!n.isEmptyObject(this.filterColumns)||!n.isEmptyObject(this.filterColumnsPartial)?this.data:this.options.data};t.prototype.load=function(t){var i=!1;this.options.sidePagination==="server"?(this.options.totalRows=t.total,i=t.fixedScroll,t=t.rows):n.isArray(t)||(i=t.fixedScroll,t=t.data);this.initData(t);this.initSearch();this.initPagination();this.initBody(i)};t.prototype.append=function(n){this.initData(n,"append");this.initSearch();this.initPagination();this.initBody(!0)};t.prototype.prepend=function(n){this.initData(n,"prepend");this.initSearch();this.initPagination();this.initBody(!0)};t.prototype.remove=function(t){var u=this.options.data.length,i,r;if(t.hasOwnProperty("field")&&t.hasOwnProperty("values")){for(i=u-1;i>=0;i--)(r=this.options.data[i],r.hasOwnProperty(t.field))&&n.inArray(r[t.field],t.values)!==-1&&this.options.data.splice(i,1);u!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))}};t.prototype.insertRow=function(n){n.hasOwnProperty("index")&&n.hasOwnProperty("row")&&(this.data.splice(n.index,0,n.row),this.initSearch(),this.initPagination(),this.initBody(!0))};t.prototype.updateRow=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(n.extend(this.data[t.index],t.row),this.initBody(!0))};t.prototype.showRow=function(n){n.hasOwnProperty("index")&&this.toggleRow(n.index,n.isIdField===undefined?!1:!0,!0)};t.prototype.hideRow=function(n){n.hasOwnProperty("index")&&this.toggleRow(n.index,n.isIdField===undefined?!1:!0,!1)};t.prototype.getRowsHidden=function(t){var i=n(this.$body[0]).children().filter(":hidden"),r=0;if(t)for(;r<i.length;r++)n(i[r]).show();return i};t.prototype.mergeCells=function(t){var i=t.index,r=n.inArray(t.field,this.header.fields),e=t.rowspan||1,o=t.colspan||1,u,f,s=this.$body.find("tr"),h=s.eq(i).find("td").eq(r);if(!(i<0)&&!(r<0)&&!(i>=this.data.length)){for(u=i;u<i+e;u++)for(f=r;f<r+o;f++)s.eq(u).find("td").eq(f).hide();h.attr("rowspan",e).attr("colspan",o).show()}};t.prototype.getOptions=function(){return this.options};t.prototype.getSelections=function(){var t=this;return n.grep(this.data,function(n){return n[t.header.stateField]})};t.prototype.checkAll=function(){this.checkAll_(!0)};t.prototype.uncheckAll=function(){this.checkAll_(!1)};t.prototype.checkAll_=function(n){var t;n||(t=this.getSelections());this.$selectItem.filter(":enabled").prop("checked",n);this.updateRows(n);this.updateSelected();n&&(t=this.getSelections());this.trigger(n?"check-all":"uncheck-all",t)};t.prototype.check=function(n){this.check_(!0,n)};t.prototype.uncheck=function(n){this.check_(!1,n)};t.prototype.check_=function(n,t){this.$selectItem.filter(i('[data-index="%s"]',t)).prop("checked",n);this.data[t][this.header.stateField]=n;this.updateSelected();this.trigger(n?"check":"uncheck",this.data[t])};t.prototype.checkBy=function(n){this.checkBy_(!0,n)};t.prototype.uncheckBy=function(n){this.checkBy_(!1,n)};t.prototype.checkBy_=function(t,r){if(r.hasOwnProperty("field")&&r.hasOwnProperty("values")){var u=this;n.each(this.options.data,function(f,e){if(!e.hasOwnProperty(r.field))return!1;n.inArray(e[r.field],r.values)!==-1&&(u.$selectItem.filter(i('[data-index="%s"]',f)).prop("checked",t),e[u.header.stateField]=t,u.trigger(t?"check":"uncheck",e))});this.updateSelected()}};t.prototype.destroy=function(){this.$el.insertBefore(this.$container);n(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};t.prototype.showLoading=function(){this.$loading.show()};t.prototype.hideLoading=function(){this.$loading.hide()};t.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var n=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?n.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):n.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp);this.updatePagination()};t.prototype.refresh=function(n){n&&n.url&&(this.options.url=n.url,this.options.pageNumber=1);this.initServer(n&&n.silent,n&&n.query)};t.prototype.showColumn=function(n){this.toggleColumn(e(this.options.columns,n),!0,!0)};t.prototype.hideColumn=function(n){this.toggleColumn(e(this.options.columns,n),!1,!0)};t.prototype.filterBy=function(t){this.filterColumns=n.isEmptyObject(t)?{}:t;this.options.pageNumber=1;this.initSearch();this.updatePagination()};t.prototype.scrollTo=function(n){var t=this.$container.find(".fixed-table-body");typeof n=="string"&&(n=n==="bottom"?t[0].scrollHeight:0);typeof n=="number"&&t.scrollTop(n)};t.prototype.selectPage=function(n){n>0&&n<=this.options.totalPages&&(this.options.pageNumber=n,this.updatePagination())};t.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())};t.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())};t.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();this.initBody()};o=["getOptions","getSelections","getData","load","append","prepend","remove","insertRow","updateRow","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","check","uncheck","checkBy","uncheckBy","refresh","resetView","destroy","showLoading","hideLoading","showColumn","hideColumn","filterBy","scrollTo","selectPage","prevPage","nextPage","togglePagination","toggleView"];n.fn.bootstrapTable=function(i,r){var u;return this.each(function(){var f=n(this),e=f.data("bootstrap.table"),s=n.extend({},t.DEFAULTS,f.data(),typeof i=="object"&&i);if(typeof i=="string"){if(n.inArray(i,o)<0)throw"Unknown method: "+i;if(!e)return;u=e[i](r);i==="destroy"&&f.removeData("bootstrap.table")}e||f.data("bootstrap.table",e=new t(this,s))}),typeof u=="undefined"?this:u};n.fn.bootstrapTable.Constructor=t;n.fn.bootstrapTable.defaults=t.DEFAULTS;n.fn.bootstrapTable.columnDefaults=t.COLUMN_DEFAULTS;n.fn.bootstrapTable.locales=t.LOCALES;n.fn.bootstrapTable.methods=o;n(function(){n('[data-toggle="table"]').bootstrapTable()})}(jQuery);